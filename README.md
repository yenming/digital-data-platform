# å…¨åª’é«”æ•¸æ“šå„€è¡¨æ¿ (Digital Data Platform)

ä¸€å€‹æ•´åˆå¤šå¹³å°æ•¸æ“šåˆ†æçš„å…¨åª’é«”æ•¸æ“šå„€è¡¨æ¿ï¼Œè®“å“ç‰Œæ–¹è¼•é¬†ç®¡ç†å…¨åª’é«”æ•¸æ“šï¼Œçœå»æ‰‹å‹•æ‹‰æ•¸æ“šçš„å†—è´…æµç¨‹ã€‚

## ğŸš€ æŠ€è¡“æ£§

### å¾Œç«¯
- **Node.js** - JavaScript é‹è¡Œç’°å¢ƒ
- **Express.js** - Web æ‡‰ç”¨ç¨‹å¼æ¡†æ¶
- **Sequelize** - MySQL ORM
- **JWT** - JSON Web Token èªè­‰
- **bcryptjs** - å¯†ç¢¼åŠ å¯†
- **Axios** - HTTP å®¢æˆ¶ç«¯
- **Moment.js** - æ—¥æœŸè™•ç†
- **Node-cron** - å®šæ™‚ä»»å‹™
- **express-validator** - è¼¸å…¥é©—è­‰
- **express-session** - æœƒè©±ç®¡ç†
- **connect-flash** - è¨Šæ¯æç¤º

### å‰ç«¯
- **Bootstrap 5** - CSS æ¡†æ¶
- **EJS** - æ¨¡æ¿å¼•æ“
- **FontAwesome** - åœ–æ¨™åº«
- **Chart.js** - åœ–è¡¨åº«
- **éŸ¿æ‡‰å¼è¨­è¨ˆ** - æ”¯æ´å„ç¨®è£ç½®

### è³‡æ–™åº«
- **MySQL 8.0** - é—œè¯å¼è³‡æ–™åº«

### å®¹å™¨åŒ–
- **Docker** - å®¹å™¨åŒ–å¹³å°
- **Docker Compose** - å¤šå®¹å™¨æ‡‰ç”¨ç¨‹å¼ç·¨æ’

### å®‰å…¨æ€§
- **Helmet** - å®‰å…¨æ€§ä¸­ä»‹è»Ÿé«”
- **CORS** - è·¨åŸŸè³‡æºå…±äº«
- **Rate Limiting** - é€Ÿç‡é™åˆ¶
- **bcryptjs** - å¯†ç¢¼é›œæ¹Š
- **JWT** - å®‰å…¨èªè­‰

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
digital-data-platform/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ config/                 # é…ç½®æª”æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ database.js         # è³‡æ–™åº«é…ç½®
â”‚   â”‚   â”œâ”€â”€ config.json         # Sequelize é…ç½®
â”‚   â”‚   â””â”€â”€ mysql/
â”‚   â”‚       â””â”€â”€ init.sql        # è³‡æ–™åº«åˆå§‹åŒ–è…³æœ¬
â”‚   â”œâ”€â”€ controllers/            # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ AuthController.js   # èªè­‰æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ DashboardController.js # å„€è¡¨æ¿æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ HomeController.js   # é¦–é æ§åˆ¶å™¨
â”‚   â”‚   â””â”€â”€ ProductsController.js # ç”¢å“æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ middleware/             # ä¸­ä»‹è»Ÿé«”
â”‚   â”‚   â”œâ”€â”€ auth.js            # èªè­‰ä¸­ä»‹è»Ÿé«”
â”‚   â”‚   â””â”€â”€ validation.js      # é©—è­‰ä¸­ä»‹è»Ÿé«”
â”‚   â”œâ”€â”€ models/                # è³‡æ–™æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ User.js            # ä½¿ç”¨è€…æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Platform.js        # å¹³å°æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ PlatformConnection.js # å¹³å°é€£æ¥æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ DataMetric.js      # æ•¸æ“šæŒ‡æ¨™æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Dashboard.js       # å„€è¡¨æ¿æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Widget.js          # å°å·¥å…·æ¨¡å‹
â”‚   â”‚   â””â”€â”€ index.js           # æ¨¡å‹ç´¢å¼•
â”‚   â”œâ”€â”€ migrations/            # è³‡æ–™åº«é·ç§»
â”‚   â”‚   â”œâ”€â”€ 20251026051652-create-platforms.js
â”‚   â”‚   â”œâ”€â”€ 20251026051730-create-platform-connections.js
â”‚   â”‚   â”œâ”€â”€ 20251026051745-create-data-metrics.js
â”‚   â”‚   â”œâ”€â”€ 20251026051800-create-dashboards.js
â”‚   â”‚   â””â”€â”€ 20251026051815-create-widgets.js
â”‚   â”œâ”€â”€ seeders/               # è³‡æ–™åº«ç¨®å­
â”‚   â”‚   â”œâ”€â”€ 20251026051612-platforms.js
â”‚   â”‚   â”œâ”€â”€ 20251026051633-admin-user.js
â”‚   â”‚   â””â”€â”€ 20251026060000-test-users.js
â”‚   â”œâ”€â”€ services/              # æœå‹™å±¤
â”‚   â”‚   â”œâ”€â”€ PlatformService.js # å¹³å°æœå‹™
â”‚   â”‚   â””â”€â”€ AnalyticsService.js # åˆ†ææœå‹™
â”‚   â””â”€â”€ views/                 # EJS æ¨¡æ¿
â”‚       â”œâ”€â”€ layouts/           # ä½ˆå±€æ¨¡æ¿
â”‚       â”‚   â””â”€â”€ main.ejs       # ä¸»è¦ä½ˆå±€
â”‚       â”œâ”€â”€ partials/          # éƒ¨åˆ†æ¨¡æ¿
â”‚       â”‚   â”œâ”€â”€ navbar.ejs     # å°èˆªæ¬„
â”‚       â”‚   â””â”€â”€ footer.ejs     # é è…³
â”‚       â”œâ”€â”€ home/              # é¦–é æ¨¡æ¿
â”‚       â”‚   â””â”€â”€ index.ejs      # é¦–é 
â”‚       â”œâ”€â”€ auth/              # èªè­‰æ¨¡æ¿
â”‚       â”‚   â”œâ”€â”€ login.ejs      # ç™»å…¥é é¢
â”‚       â”‚   â””â”€â”€ register.ejs   # è¨»å†Šé é¢
â”‚       â”œâ”€â”€ dashboard/         # å„€è¡¨æ¿æ¨¡æ¿
â”‚       â”‚   â”œâ”€â”€ index.ejs      # å„€è¡¨æ¿é¦–é 
â”‚       â”‚   â”œâ”€â”€ platforms.ejs  # å¹³å°ç®¡ç†
â”‚       â”‚   â””â”€â”€ reports.ejs    # æ•¸æ“šå ±è¡¨
â”‚       â””â”€â”€ errors/            # éŒ¯èª¤é é¢
â”‚           â”œâ”€â”€ 404.ejs        # 404 éŒ¯èª¤
â”‚           â””â”€â”€ 500.ejs        # 500 éŒ¯èª¤
â”œâ”€â”€ public/                    # éœæ…‹æª”æ¡ˆ
â”‚   â”œâ”€â”€ css/                   # æ¨£å¼æª”æ¡ˆ
â”‚   â”‚   â””â”€â”€ style.css          # ä¸»è¦æ¨£å¼
â”‚   â”œâ”€â”€ js/                    # JavaScript æª”æ¡ˆ
â”‚   â”‚   â””â”€â”€ main.js            # ä¸»è¦è…³æœ¬
â”‚   â”œâ”€â”€ images/                # åœ–ç‰‡æª”æ¡ˆ
â”‚   â””â”€â”€ uploads/               # ä¸Šå‚³æª”æ¡ˆ
â”œâ”€â”€ routes/                    # è·¯ç”±æª”æ¡ˆ
â”‚   â”œâ”€â”€ auth.js                # èªè­‰è·¯ç”±
â”‚   â”œâ”€â”€ dashboard.js           # å„€è¡¨æ¿è·¯ç”±
â”‚   â”œâ”€â”€ home.js                # é¦–é è·¯ç”±
â”‚   â”œâ”€â”€ products.js            # ç”¢å“è·¯ç”±
â”‚   â””â”€â”€ users.js               # ä½¿ç”¨è€…è·¯ç”±
â”œâ”€â”€ app.js                     # æ‡‰ç”¨ç¨‹å¼å…¥å£
â”œâ”€â”€ package.json               # å°ˆæ¡ˆä¾è³´
â”œâ”€â”€ Dockerfile                 # Docker é…ç½®
â”œâ”€â”€ docker-compose.yml         # Docker Compose é…ç½®
â”œâ”€â”€ .sequelizerc               # Sequelize CLI é…ç½®
â”œâ”€â”€ healthcheck.js             # å¥åº·æª¢æŸ¥è…³æœ¬
â””â”€â”€ README.md                  # å°ˆæ¡ˆèªªæ˜
```

## ğŸ› ï¸ å®‰è£èˆ‡è¨­å®š

### ä½¿ç”¨ Docker (æ¨è–¦)

1. **è¤‡è£½å°ˆæ¡ˆ**
   ```bash
   git clone <repository-url>
   cd digital-data-platform
   ```

2. **å»ºæ§‹ä¸¦å•Ÿå‹•æœå‹™**
   ```bash
   docker-compose up --build -d
   ```

3. **åŸ·è¡Œè³‡æ–™åº«é·ç§»å’Œç¨®å­**
   ```bash
   npx sequelize-cli db:migrate
   npx sequelize-cli db:seed:all
   ```

4. **è¨ªå•æ‡‰ç”¨ç¨‹å¼**
   ```
   - ç¶²ç«™ï¼šhttp://localhost:3000
   - phpMyAdminï¼šhttp://localhost:8080
   ```

### æœ¬åœ°é–‹ç™¼

1. **å®‰è£ä¾è³´**
   ```bash
   npm install
   ```

2. **è¨­å®šç’°å¢ƒè®Šæ•¸**
   ```bash
   # å»ºç«‹ .env æª”æ¡ˆ
   NODE_ENV=development
   PORT=3000
   DB_HOST=localhost
   DB_PORT=3306
   DB_NAME=orionstar_tw
   DB_USER=root
   DB_PASSWORD=orionstar_password
   JWT_SECRET=your-super-secret-jwt-key
   SESSION_SECRET=your-super-secret-session-key
   ```

3. **å•Ÿå‹• MySQL è³‡æ–™åº«**
   ```bash
   docker-compose up mysql -d
   ```

4. **åŸ·è¡Œè³‡æ–™åº«é·ç§»**
   ```bash
   npx sequelize-cli db:migrate
   npx sequelize-cli db:seed:all
   ```

5. **å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼**
   ```bash
   npm run dev
   ```

## ğŸ”§ é–‹ç™¼æŒ‡ä»¤

```bash
# å®‰è£ä¾è³´
npm install

# é–‹ç™¼æ¨¡å¼ï¼ˆä½¿ç”¨ nodemonï¼‰
npm run dev

# ç”Ÿç”¢æ¨¡å¼
npm start

# åŸ·è¡Œæ¸¬è©¦
npm test

# è³‡æ–™åº«ç›¸é—œæŒ‡ä»¤
npx sequelize-cli db:migrate          # åŸ·è¡Œé·ç§»
npx sequelize-cli db:seed:all         # åŸ·è¡Œç¨®å­
npx sequelize-cli db:migrate:undo     # å›æ»¾é·ç§»
npx sequelize-cli db:seed:undo:all    # å›æ»¾ç¨®å­

# Docker ç›¸é—œæŒ‡ä»¤
docker-compose up --build -d          # å»ºæ§‹ä¸¦å•Ÿå‹•
docker-compose down                   # åœæ­¢æœå‹™
docker-compose logs app               # æŸ¥çœ‹æ‡‰ç”¨ç¨‹å¼æ—¥èªŒ
docker-compose logs mysql             # æŸ¥çœ‹è³‡æ–™åº«æ—¥èªŒ
```

## ğŸ“Š æ¸¬è©¦å¸³è™Ÿ

### é è¨­æ¸¬è©¦å¸³è™Ÿ
| ç”¨æˆ¶å | å¯†ç¢¼ | é›»å­éƒµä»¶ | è§’è‰² |
|--------|------|----------|------|
| **admin** | admin123 | admin@orionstar.com.tw | admin |
| **testuser** | test123 | test@digital-data-platform.com | user |
| **demo** | test123 | demo@digital-data-platform.com | user |

### è³‡æ–™åº«çµæ§‹
- **users** - ä½¿ç”¨è€…è¡¨
- **platforms** - å¹³å°é…ç½®è¡¨
- **platform_connections** - å¹³å°é€£æ¥è¡¨
- **data_metrics** - æ•¸æ“šæŒ‡æ¨™è¡¨
- **dashboards** - å„€è¡¨æ¿é…ç½®è¡¨
- **widgets** - å°å·¥å…·é…ç½®è¡¨

## ğŸ” å®‰å…¨æ€§åŠŸèƒ½

- **å¯†ç¢¼åŠ å¯†**: ä½¿ç”¨ bcryptjs é€²è¡Œå¯†ç¢¼é›œæ¹Š
- **JWT èªè­‰**: å®‰å…¨çš„ç”¨æˆ¶èªè­‰æ©Ÿåˆ¶
- **Session ç®¡ç†**: å®‰å…¨çš„æœƒè©±ç®¡ç†
- **CORS ä¿è­·**: è·¨åŸŸè«‹æ±‚ä¿è­·
- **Rate Limiting**: API é€Ÿç‡é™åˆ¶
- **Helmet**: HTTP å®‰å…¨æ€§æ¨™é ­
- **è¼¸å…¥é©—è­‰**: ä½¿ç”¨ express-validator é€²è¡Œè¼¸å…¥é©—è­‰
- **SQL æ³¨å…¥é˜²è­·**: ä½¿ç”¨ Sequelize ORM

## ğŸ¨ å‰ç«¯åŠŸèƒ½

- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: æ”¯æ´æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿ
- **Bootstrap 5**: ç¾ä»£åŒ– UI æ¡†æ¶
- **FontAwesome**: è±å¯Œçš„åœ–æ¨™åº«
- **Chart.js**: äº’å‹•å¼åœ–è¡¨
- **EJS æ¨¡æ¿**: å‹•æ…‹å…§å®¹æ¸²æŸ“
- **è¡¨å–®é©—è­‰**: å‰ç«¯å’Œå¾Œç«¯é›™é‡é©—è­‰
- **ç„¡éšœç¤™è¨­è¨ˆ**: æ”¯æ´è¢å¹•é–±è®€å™¨
- **æ•¸æ“šè¦–è¦ºåŒ–**: è±å¯Œçš„åœ–è¡¨å’Œå„€è¡¨æ¿

## ğŸš€ éƒ¨ç½²

### ä½¿ç”¨ Docker éƒ¨ç½²

1. **è¨­å®šç”Ÿç”¢ç’°å¢ƒè®Šæ•¸**
   ```bash
   # ä¿®æ”¹ docker-compose.yml ä¸­çš„ç’°å¢ƒè®Šæ•¸
   NODE_ENV=production
   ```

2. **å•Ÿå‹•ç”Ÿç”¢æœå‹™**
   ```bash
   docker-compose -f docker-compose.yml up -d
   ```

### å‚³çµ±éƒ¨ç½²

1. **å®‰è£ PM2**
   ```bash
   npm install -g pm2
   ```

2. **å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼**
   ```bash
   pm2 start app.js --name "digital-data-platform"
   ```

## ğŸ“ API ç«¯é»

### èªè­‰ç›¸é—œ
- `GET /auth/login` - ç™»å…¥é é¢
- `POST /auth/login` - ä½¿ç”¨è€…ç™»å…¥
- `GET /auth/register` - è¨»å†Šé é¢
- `POST /auth/register` - ä½¿ç”¨è€…è¨»å†Š
- `GET /auth/logout` - ä½¿ç”¨è€…ç™»å‡º
- `POST /auth/logout` - ä½¿ç”¨è€…ç™»å‡º

### é¦–é ç›¸é—œ
- `GET /` - é¦–é 
- `GET /about` - é—œæ–¼æˆ‘å€‘
- `GET /contact` - è¯çµ¡æˆ‘å€‘

### å„€è¡¨æ¿ç›¸é—œ
- `GET /dashboard` - æ•¸æ“šå„€è¡¨æ¿
- `GET /dashboard/platforms` - å¹³å°ç®¡ç†
- `POST /dashboard/platforms/connect` - é€£æ¥å¹³å°
- `DELETE /dashboard/platforms/:id` - æ–·é–‹å¹³å°é€£æ¥
- `POST /dashboard/sync/:id` - åŒæ­¥å¹³å°æ•¸æ“š
- `GET /dashboard/reports` - æ•¸æ“šå ±è¡¨
- `GET /dashboard/api/data` - ç²å–å„€è¡¨æ¿æ•¸æ“š

### ä½¿ç”¨è€…ç›¸é—œ
- `GET /users/dashboard` - ä½¿ç”¨è€…å„€è¡¨æ¿
- `GET /users/profile` - å€‹äººè³‡æ–™

### ç³»çµ±ç›¸é—œ
- `GET /health` - å¥åº·æª¢æŸ¥

## ğŸ§ª æ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
npm test

# åŸ·è¡Œç‰¹å®šæ¸¬è©¦
npm test -- --grep "èªè­‰æ¸¬è©¦"

# ç”Ÿæˆæ¸¬è©¦è¦†è“‹ç‡å ±å‘Š
npm run test:coverage
```

## ğŸ“ˆ ç›£æ§èˆ‡æ—¥èªŒ

- **å¥åº·æª¢æŸ¥**: `/health` ç«¯é»
- **æ—¥èªŒè¨˜éŒ„**: ä½¿ç”¨ Morgan ä¸­ä»‹è»Ÿé«”
- **éŒ¯èª¤è™•ç†**: å…¨åŸŸéŒ¯èª¤è™•ç†ä¸­ä»‹è»Ÿé«”
- **æ•ˆèƒ½ç›£æ§**: å£“ç¸®å’Œå¿«å–å„ªåŒ–
- **æ•¸æ“šåŒæ­¥**: è‡ªå‹•åŒæ­¥å„å¹³å°æ•¸æ“š
- **å®šæ™‚ä»»å‹™**: ä½¿ç”¨ node-cron é€²è¡Œå®šæœŸæ•¸æ“šæ›´æ–°

## ğŸ”Œ æ”¯æ´å¹³å°

### ç¤¾äº¤åª’é«”å¹³å°
- **Meta Ads** - Facebook å»£å‘Šæ•¸æ“š
- **Instagram** - Instagram æ´å¯Ÿæ•¸æ“š
- **Threads** - Threads å¹³å°æ•¸æ“š

### åˆ†æå¹³å°
- **Google Analytics 4** - ç¶²ç«™åˆ†ææ•¸æ“š
- **Google Search Console** - æœå°‹è¡¨ç¾æ•¸æ“š

### å»£å‘Šå¹³å°
- **Google Ads** - Google å»£å‘Šæ•¸æ“š

### é€šè¨Šå¹³å°
- **Line LAP** - Line å®˜æ–¹å¸³è™Ÿæ•¸æ“š

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### æ•¸æ“šæ•´åˆ
- **å¤šå¹³å°æ•´åˆ**: ä¸€ç«™å¼ç®¡ç†æ‰€æœ‰å¹³å°æ•¸æ“š
- **å³æ™‚åŒæ­¥**: 24/7 è‡ªå‹•åŒæ­¥æœ€æ–°æ•¸æ“š
- **æ•¸æ“šæ¨™æº–åŒ–**: çµ±ä¸€æ•¸æ“šæ ¼å¼å’ŒæŒ‡æ¨™

### è¦–è¦ºåŒ–åˆ†æ
- **äº’å‹•å¼åœ–è¡¨**: è±å¯Œçš„åœ–è¡¨é¡å‹
- **è‡ªå®šç¾©å„€è¡¨æ¿**: æ ¹æ“šéœ€æ±‚å®¢è£½åŒ–ä½ˆå±€
- **KPI ç›£æ§**: é—œéµæŒ‡æ¨™ä¸€ç›®äº†ç„¶

### å ±è¡¨åŠŸèƒ½
- **æ•¸æ“šå°å‡º**: æ”¯æ´ CSVã€JSON æ ¼å¼
- **å®šæœŸå ±è¡¨**: è‡ªå‹•ç”Ÿæˆå®šæœŸåˆ†æå ±å‘Š
- **è·¨å¹³å°æ¯”è¼ƒ**: å¤šå¹³å°æ•¸æ“šå°æ¯”åˆ†æ

### å®‰å…¨èˆ‡æ¬Šé™
- **ä¼æ¥­ç´šå®‰å…¨**: æ•¸æ“šåŠ å¯†å’Œæ¬Šé™æ§åˆ¶
- **å¤šå±¤ç´šæ¬Šé™**: æ”¯æ´ä¸åŒè§’è‰²æ¬Šé™ç®¡ç†
- **API å®‰å…¨**: å®‰å…¨çš„ API èªè­‰æ©Ÿåˆ¶

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **è³‡æ–™åº«é€£æ¥å¤±æ•—**
   ```bash
   # æª¢æŸ¥ MySQL å®¹å™¨ç‹€æ…‹
   docker-compose ps mysql
   
   # æŸ¥çœ‹è³‡æ–™åº«æ—¥èªŒ
   docker-compose logs mysql
   ```

2. **æ‡‰ç”¨ç¨‹å¼ç„¡æ³•å•Ÿå‹•**
   ```bash
   # æŸ¥çœ‹æ‡‰ç”¨ç¨‹å¼æ—¥èªŒ
   docker-compose logs app
   
   # é‡æ–°å»ºæ§‹å®¹å™¨
   docker-compose up app --build -d
   ```

3. **EJS æ¨¡æ¿éŒ¯èª¤**
   - æª¢æŸ¥æ¨¡æ¿èªæ³•
   - ç¢ºèªæ‰€æœ‰ `<%- include` æ¨™ç±¤æ­£ç¢ºé—œé–‰

4. **ç™»å…¥å•é¡Œ**
   - ç¢ºèªæ¸¬è©¦å¸³è™Ÿå·²å‰µå»º
   - æª¢æŸ¥å¯†ç¢¼æ˜¯å¦æ­£ç¢º
   - æŸ¥çœ‹èªè­‰æ—¥èªŒ

## ğŸ“ æ”¯æ´

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¯ç¹«ï¼š
- é›»å­éƒµä»¶ï¼šcontact@digital-data-platform.com
- é›»è©±ï¼š+886-2-1234-5678

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ã€‚

---

**å…¨åª’é«”æ•¸æ“šå„€è¡¨æ¿** - è®“æ•¸æ“šåˆ†æè®Šå¾—ç°¡å–®é«˜æ•ˆï¼